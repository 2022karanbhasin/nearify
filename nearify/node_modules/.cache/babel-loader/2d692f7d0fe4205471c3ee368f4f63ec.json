{"ast":null,"code":"var _jsxFileName = \"/Users/karanbhasin/Desktop/Homecare/Code/geonearify/nearify/src/App.js\";\nimport React, { useState } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Spotify from 'spotify-web-api-js';\nconst s = new Spotify();\n\nfunction App() {\n  function getHashParams() {\n    var hashParams = {};\n    var e,\n        r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n\n    while (e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n\n    return hashParams;\n  }\n\n  var hashParams = getHashParams();\n  var temp = false;\n\n  if (hashParams.access_token) {\n    temp = true;\n    s.setAccessToken(params.access_token);\n  }\n\n  const [loggedIn, setLoggedIn] = useState(temp);\n  const [nowPlaying, setNowPlaying] = useState({\n    name: \"not checked\",\n    image: \"\"\n  });\n\n  function getNowPlaying() {\n    s.getMyCurrentPlaybackState().then(response => {\n      console.log(response); // setNowPlaying()\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, !loggedIn ? /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://localhost:8888\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"Log in with spotify\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \" Now Playing \", nowPlaying.name), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: nowPlaying.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => getNowPlaying(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \"Check Now Playing\")));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/karanbhasin/Desktop/Homecare/Code/geonearify/nearify/src/App.js"],"names":["React","useState","Spotify","s","App","getHashParams","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","temp","access_token","setAccessToken","params","loggedIn","setLoggedIn","nowPlaying","setNowPlaying","name","image","getNowPlaying","getMyCurrentPlaybackState","then","response","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;;AAGA,OAAO,WAAP;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,MAAMC,CAAC,GAAG,IAAID,OAAJ,EAAV;;AAEA,SAASE,GAAT,GAAe;AACb,WAASC,aAAT,GAAyB;AACvB,QAAIC,UAAU,GAAG,EAAjB;AACA,QAAIC,CAAJ;AAAA,QAAOC,CAAC,GAAG,sBAAX;AAAA,QACIC,CAAC,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,SAArB,CAA+B,CAA/B,CADR;;AAEA,WAAQN,CAAC,GAAGC,CAAC,CAACM,IAAF,CAAOL,CAAP,CAAZ,EAAuB;AACpBH,MAAAA,UAAU,CAACC,CAAC,CAAC,CAAD,CAAF,CAAV,GAAmBQ,kBAAkB,CAACR,CAAC,CAAC,CAAD,CAAF,CAArC;AACF;;AACD,WAAOD,UAAP;AACD;;AACD,MAAIA,UAAU,GAACD,aAAa,EAA5B;AACA,MAAIW,IAAI,GAAC,KAAT;;AACA,MAAIV,UAAU,CAACW,YAAf,EACA;AACED,IAAAA,IAAI,GAAC,IAAL;AACAb,IAAAA,CAAC,CAACe,cAAF,CAAiBC,MAAM,CAACF,YAAxB;AACD;;AAGD,QAAM,CAACG,QAAD,EAAWC,WAAX,IAAwBpB,QAAQ,CAACe,IAAD,CAAtC;AACA,QAAK,CAACM,UAAD,EAAaC,aAAb,IAA4BtB,QAAQ,CAAC;AAACuB,IAAAA,IAAI,EAAE,aAAP;AAAqBC,IAAAA,KAAK,EAAC;AAA3B,GAAD,CAAzC;;AAEA,WAASC,aAAT,GAAwB;AACtBvB,IAAAA,CAAC,CAACwB,yBAAF,GACGC,IADH,CACSC,QAAD,IAAY;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EADgB,CAEhB;AACD,KAJH;AAMD;;AACD,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGC,CAACT,QAAD,gBACA;AAAG,IAAA,IAAI,EAAC,uBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADD,CADA,gBAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAmBE,UAAU,CAACE,IAA9B,CADA,eAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEF,UAAU,CAACG,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAHA,eAOA;AAAQ,IAAA,OAAO,EAAE,MAAIC,aAAa,EAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAPA,CAPF,CADF;AAsBD;;AAED,eAAetB,GAAf","sourcesContent":["import React, {useState} from 'react';\n\nimport logo from './logo.svg';\nimport './App.css';\nimport Spotify from 'spotify-web-api-js';\nconst s = new Spotify();\n\nfunction App() {\n  function getHashParams() {\n    var hashParams = {};\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n    while ( e = r.exec(q)) {\n       hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n    return hashParams;\n  }\n  var hashParams=getHashParams()\n  var temp=false;\n  if( hashParams.access_token )\n  {\n    temp=true;\n    s.setAccessToken(params.access_token)\n  }\n\n\n  const [loggedIn, setLoggedIn]=useState(temp)\n  const[nowPlaying, setNowPlaying]=useState({name: \"not checked\",image:\"\"})\n  \n  function getNowPlaying(){\n    s.getMyCurrentPlaybackState()\n      .then((response)=>{\n        console.log(response)\n        // setNowPlaying()\n      }\n      )\n  }\n  return (\n    <div className=\"App\">\n     \n\n    {!loggedIn ? \n     <a href=\"http://localhost:8888\">\n      <button>Log in with spotify</button> \n      </a>:\n      <div>\n      <div> Now Playing {nowPlaying.name}\n      </div>\n      <div> \n        <img src={nowPlaying.image} >\n        </img>\n      </div>\n      <button onClick={()=>getNowPlaying()}>\n        Check Now Playing\n      </button>\n      </div>\n    }\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}